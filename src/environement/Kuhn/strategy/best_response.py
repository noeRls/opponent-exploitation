from src.environement.Kuhn.KuhnAgent import KuhnAgent
from ...Strategy import Strategy
from ..KuhnInfo import KuhnAction


class KuhnBestResponseStrategy(Strategy):
    def get_name(self):
        return "BestResponse"

    def get_play(self) -> KuhnAction:
        agent: KuhnAgent = self.agent
        opponent: KuhnAgent = self.env.get_opponent(self.agent)
        available_actions = self.env.get_available_actions()
        bet = KuhnAction.BET if KuhnAction.BET in available_actions else KuhnAction.CALL
        drop = KuhnAction.CHECK if KuhnAction.CHECK in available_actions else KuhnAction.FOLD
        if (agent.card.value == opponent.card.value):
            return bet
        if (agent.card.value > opponent.card.value):
            return bet
        if (agent.card.value < opponent.card.value):
            return drop
